<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>愛心文字雨 - 中心優化</title>
<style>
html, body {
  margin: 0; padding: 0;
  width: 100%; height: 100%;
  background-color: #111;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

.container {
  position: relative;
  width: 100%; height: 100%;
  overflow: hidden;
}

/* 漂浮氣泡文字 */
.bubble {
  position: absolute;
  padding: 8px 14px;
  border-radius: 25px;
  color: #fff;
  font-size: 14px;
  opacity: 0;
  white-space: nowrap;
  pointer-events: none;
  animation: floatUp linear forwards;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

@keyframes floatUp {
  0% { opacity: 0; transform: translateY(20px); }
  10% { opacity: 1; }
  100% { transform: translateY(-120%); opacity: 0; }
}

/* 愛心文字 */
.heartLetter {
  position: absolute;
  color: #ff6b6b;
  font-weight: bold;
  opacity: 0;
  animation: floatHeart 6s linear forwards;
}

@keyframes floatHeart {
  0% { opacity: 0; transform: translateY(0); }
  10% { opacity: 1; }
  100% { opacity: 0; transform: translateY(-150px); }
}
</style>
</head>
<body>
<div class="container" id="container"></div>

<script>
const messages = ["寶貝❤","愛你❤","想你❤","抱抱❤","晚安❤","辛苦了❤","微笑❤","你最棒❤"];
const colors = ["#ff6b6b","#feca57","#48dbfb","#1dd1a1","#5f27cd","#ff9ff3","#ff9f43"];
const container = document.getElementById('container');
const centerX = window.innerWidth/2;
const centerY = window.innerHeight/2;
const heartRadius = Math.min(window.innerWidth, window.innerHeight)/5; // 愛心區域半徑

function random(min,max){ return Math.random()*(max-min)+min; }

// 漂浮氣泡文字
function createBubble(){
  let x = random(0, window.innerWidth);
  let y = random(20, window.innerHeight*0.75);
  
  // 中間區域降低密度
  const dx = x - centerX;
  const dy = y - centerY;
  const dist = Math.sqrt(dx*dx + dy*dy);
  if(dist < heartRadius && Math.random()<0.7) return;

  const b = document.createElement('div');
  b.className = 'bubble';
  b.innerText = messages[Math.floor(Math.random()*messages.length)];
  b.style.left = x+'px';
  b.style.top = y+'px';
  b.style.background = colors[Math.floor(Math.random()*colors.length)];
  b.style.fontSize = random(12,18)+'px';
  b.style.animationDuration = random(4,8)+'s';
  container.appendChild(b);
  setTimeout(()=>b.remove(),8000);
}

// 愛心文字生成（減少密度）
function createHeartLetters(){
  const heartChars = 15 + Math.floor(Math.random()*5); // 每次生成 15~20 個
  const scale = Math.min(window.innerWidth, window.innerHeight)/4;

  for(let i=0;i<heartChars;i++){
    const t = Math.random()*Math.PI*2;
    const r = scale*Math.sqrt(Math.random());
    const x = centerX + r * Math.sin(t)*0.6;
    const y = centerY - (r * Math.cos(t) - Math.sqrt(Math.abs(r*Math.sin(t)))*0.8);
    const l = document.createElement('div');
    l.className='heartLetter';
    l.innerText = messages[Math.floor(Math.random()*messages.length)];
    l.style.left = x+'px';
    l.style.top = y+'px';
    l.style.fontSize = random(12,18)+'px';
    container.appendChild(l);
    setTimeout(()=>l.remove(),6000);
  }
}

// 高頻生成漂浮氣泡
setInterval(createBubble,200);
// 高頻生成愛心文字
setInterval(createHeartLetters,500);
</script>
</body>
</html>
